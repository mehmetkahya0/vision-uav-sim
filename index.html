<!DOCTYPE html>
<html lang="tr">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AI UAV SIMULATOR</title>
  <link rel="stylesheet" href="/src/styles.css" />
  <!-- TensorFlow.js and COCO-SSD for object detection -->
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow/tfjs@4.10.0/dist/tf.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@tensorflow-models/coco-ssd@2.2.3/dist/coco-ssd.min.js"></script>
</head>
<body>
  <!-- Ana Cesium sahne -->
  <div id="cesiumContainer"></div>

  <!-- Drone kamera gÃ¶rÃ¼ntÃ¼sÃ¼ (PiP) -->
  <div id="droneCameraContainer" class="pip">
    <div id="droneCameraView"></div>
    <div id="cameraOverlay">
      <span id="cameraLabel">DRONE CAM</span>
      <span id="aiStatusBadge" class="ai-badge ai-off">AI OFF</span>
      <button id="toggleCameraSize" title="Tam Ekran / KÃ¼Ã§Ã¼lt">â›¶</button>
    </div>
    <div id="cameraHUD">
      <div id="crosshair">+</div>
    </div>
  </div>

  <!-- â•â•â• AI DETECTION PANELÄ° â•â•â• -->
  <div id="detectionPanel" class="hidden">
    <div class="det-header">
      <span class="det-icon">â—‰</span>
      <span id="detectionStatus">AI KAPALI</span>
    </div>
    <div class="det-body">
      <div class="det-row">
        <span>HEDEF: <strong id="detectionCount">0</strong></span>
        <span id="detConfidence" class="det-conf">CONF: 25%</span>
      </div>
      <div class="det-row det-distance">
        <span id="detClosestDistance" class="det-dist">EN YAKIN: --</span>
      </div>
    </div>
    <div class="det-footer">
      <span class="det-key"><kbd>B</kbd> AÃ§/Kapat</span>
      <span class="det-key"><kbd>N/M</kbd> Hassasiyet</span>
      <span class="det-key"><kbd>G</kbd> Dondur</span>
      <span class="det-key"><kbd>+/-</kbd> Zoom</span>
    </div>
  </div>

  <!-- â•â•â• HAVA DURUMU PANELÄ° â•â•â• -->
  <div id="weatherPanel" class="hidden">
    <div class="weather-header">
      <span class="weather-icon">ğŸŒ¥ï¸</span>
      <span id="weatherStatus">HAVA DURUMU</span>
    </div>
    <div class="weather-body">
      <div class="weather-row">
        <span>SAAT: <strong id="weatherTime">07:00</strong></span>
        <span id="weatherTemp" class="weather-temp">SICI: 12Â°C</span>
      </div>
      <div class="weather-row">
        <span>RÃœZGAR: <strong id="weatherWind">5 m/s</strong></span>
        <span id="weatherDir">YÃ–N: 180Â°</span>
      </div>
      <div class="weather-row">
        <span id="weatherVisibility">GÃ–RÃœNÃœRLÃœk: 10km</span>
      </div>
      <div class="weather-row">
        <span id="weatherCondition">KOÅULT: AÃ§Ä±k</span>
      </div>
    </div>
    <div class="weather-footer">
      <span class="weather-key"><kbd>H</kbd> AÃ§/Kapat</span>
      <span class="weather-key"><kbd>Y</kbd> +HÄ±z</span>
      <span class="weather-key"><kbd>U</kbd> -HÄ±z</span>
    </div>
  </div>

  <!-- â•â•â• UYARI SÄ°STEMLERÄ° â•â•â• -->
  <div id="stallWarning" class="warning-overlay hidden">
    <span>âš  STALL âš </span>
  </div>
  <div id="overspeedWarning" class="warning-overlay overspeed hidden">
    <span>âš  OVERSPEED âš </span>
  </div>
  <div id="crashWarning" class="warning-overlay crash hidden">
    <span>ğŸ’¥ CRASH! ğŸ’¥</span>
  </div>
  <div id="collisionWarning" class="warning-overlay collision hidden">
    <span>âš  GROUND WARNING âš </span>
  </div>

  <!-- â•â•â• SOL HUD PANELÄ° (Birincil + Ä°kincil GÃ¶stergeler) â•â•â• -->
  <div id="hud">
    <div class="hud-section">
      <div class="hud-section-title">UÃ‡UÅ VERÄ°LERÄ°</div>
      <div class="hud-row">
        <span id="hudAltitude">ALT: 0 m</span>
        <span id="hudSpeed">TAS: 0 km/h</span>
      </div>
      <div class="hud-row">
        <span id="hudHeading">HDG: 0Â° K</span>
        <span id="hudPitch">P:+0.0Â° R:+0.0Â°</span>
      </div>
    </div>
    <div class="hud-divider"></div>
    <div class="hud-section">
      <div class="hud-section-title">MOTOR & DÄ°NAMÄ°KLER</div>
      <div class="hud-row">
        <span id="hudThrottle">THR: 65%</span>
        <span id="hudClimbRate">VS: +0.0 m/s</span>
      </div>
      <div class="hud-row">
        <span id="hudGForce">G: 1.0</span>
        <span id="hudAoA">AoA: 0.0Â°</span>
      </div>
    </div>
    <div class="hud-divider"></div>
    <div class="hud-section">
      <div class="hud-row">
        <span id="hudLat">LAT: 0</span>
        <span id="hudLon">LON: 0</span>
      </div>
      <div class="hud-row">
        <span id="hudBattery">FUEL: 100%</span>
        <span id="hudFlightTime">TIME: 00:00</span>
      </div>
    </div>
    <div class="hud-divider"></div>
    <div class="hud-section">
      <div class="hud-section-title">HAVA & ZAMAN</div>
      <div class="hud-row">
        <span id="hudGameTime">ğŸ• 07:00</span>
        <span id="hudWindInfo">ğŸ’¨ 5m/s</span>
      </div>
      <div class="hud-row">
        <span id="hudVisInfo">ğŸ‘ 10km</span>
        <span id="hudTempInfo">ğŸŒ¡ 12Â°C</span>
      </div>
    </div>
  </div>

  <!-- â•â•â• THROTTLE BAR (SaÄŸ dikey Ã§ubuk) â•â•â• -->
  <div id="throttleBarContainer">
    <div class="throttle-label">THR</div>
    <div class="throttle-track">
      <div id="throttleBarFill" class="throttle-fill"></div>
    </div>
    <div class="throttle-value">0%</div>
  </div>



  <!-- â•â•â• KONTROL YARDIMI â•â•â• -->
  <div id="controlsHelp">
    <button id="toggleHelp">?</button>
    <div id="helpPanel" class="hidden">
      <h3>Kontroller - UÃ§uÅŸ Sim</h3>
      <table>
        <tr><td><kbd>W</kbd></td><td>Pitch Down (Burun AÅŸaÄŸÄ±)</td></tr>
        <tr><td><kbd>S</kbd></td><td>Pitch Up (Burun YukarÄ±)</td></tr>
        <tr><td><kbd>A</kbd></td><td>Roll Left (Sol Kanat AÅŸaÄŸÄ±)</td></tr>
        <tr><td><kbd>D</kbd></td><td>Roll Right (SaÄŸ Kanat AÅŸaÄŸÄ±)</td></tr>
        <tr><td><kbd>Q</kbd></td><td>Yaw Left (Sola Sapma)</td></tr>
        <tr><td><kbd>E</kbd></td><td>Yaw Right (SaÄŸa Sapma)</td></tr>
        <tr><td><kbd>L.Shift</kbd></td><td>Throttle + (Gaz ArtÄ±r)</td></tr>
        <tr><td><kbd>L.Ctrl</kbd></td><td>Throttle - (Gaz Azalt)</td></tr>
        <tr><td><kbd>R / F</kbd></td><td>Kamera YukarÄ± / AÅŸaÄŸÄ±</td></tr>
        <tr><td><kbd>T</kbd></td><td>Kamera SÄ±fÄ±rla</td></tr>
        <tr><td><kbd>V</kbd></td><td>Kamera Modu (Takip/Cockpit/Orbit)</td></tr>
        <tr><td><kbd>Mouse</kbd></td><td>Orbit: SÃ¼rÃ¼kle=DÃ¶n, Scroll=Zoom</td></tr>
        <tr><td><kbd>C</kbd></td><td>Drone Cam (PiP/Tam Ekran)</td></tr>
        <tr><td><kbd>B</kbd></td><td>AI Detection AÃ§/Kapat</td></tr>
        <tr><td><kbd>N / M</kbd></td><td>Hassasiyet Azalt/ArtÄ±r</td></tr>
        <tr><td><kbd>G</kbd></td><td>GÃ¶rÃ¼ntÃ¼ Dondur (5s Freeze)</td></tr>
        <tr><td><kbd>O</kbd></td><td>OSM BinalarÄ± AÃ§/Kapat</td></tr>
        <tr><td><kbd>H</kbd></td><td>Hava Durumu Paneli AÃ§/Kapat</td></tr>
        <tr><td><kbd>Y / U</kbd></td><td>RÃ¼zgar HÄ±zÄ± ArtÄ±r/Azalt</td></tr>
        <tr><td><kbd>+/-</kbd></td><td>Kamera Zoom In/Out</td></tr>
        <tr><td><kbd>0</kbd></td><td>Zoom SÄ±fÄ±rla</td></tr>
        <tr><td><kbd>Scroll</kbd></td><td>Drone Cam Zoom (fare)</td></tr>
      </table>
      <div class="help-physics-note">
        <small>Fizik: Lift=Â½ÏvÂ²SC<sub>L</sub> | Stall@16Â°AoA | Koordineli DÃ¶nÃ¼ÅŸ</small>
      </div>
    </div>
  </div>

  <!-- â•â•â• MÄ°NÄ°HARÄ°TA (GerÃ§ek DÃ¼nya HaritasÄ±) â•â•â• -->
  <div id="minimapContainer" class="minimap-small" title="TÄ±kla: Tam harita gÃ¶rÃ¼nÃ¼mÃ¼">
    <div id="minimapViewer"></div>
    <div id="minimapOverlay">
      <span id="minimapLabel">MAP</span>
      <button id="minimapClose" class="hidden" title="KÃ¼Ã§Ã¼lt">âœ•</button>
    </div>
    <div id="minimapCrosshair">+</div>
    <div id="minimapInfo">
      <span id="minimapCoords"></span>
    </div>
    <!-- Location Search Bar (expanded modda gÃ¶rÃ¼nÃ¼r) -->
    <div id="locationSearch" class="hidden">
      <div class="search-header">
        <span class="search-icon">ğŸ“</span>
        <span>Konum Ara</span>
      </div>
      <div class="search-input-wrapper">
        <input 
          type="text" 
          id="locationInput" 
          placeholder="Åehir adÄ±... (Ã¶rn: London, Tokyo, Paris)"
          autocomplete="off"
        />
        <button id="searchBtn" title="Ara">ğŸ”</button>
      </div>
      <div id="searchResults" class="search-results hidden"></div>
      <div id="searchStatus" class="search-status hidden"></div>
    </div>
  </div>

  <script type="module" src="/src/main.js"></script>
</body>
</html>
